/**\n * Analytics Dashboard 頁面\n * \n * 市場分析、交易統計、用戶分析、性能指標\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from '@/hooks/useTranslation';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\n/**\n * 市場分析組件\n */\nfunction MarketAnalytics() {\n  const { t } = useTranslation();\n  const [marketData, setMarketData] = useState<any[]>([]);\n  const [selectedMarket, setSelectedMarket] = useState<string>('');\n\n  useEffect(() => {\n    // 模擬市場數據\n    const mockData = [\n      {\n        name: 'BTC Price',\n        volume: 1200,\n        trades: 240,\n        liquidity: 85,\n        sentiment: 65,\n      },\n      {\n        name: 'ETH Price',\n        volume: 1400,\n        trades: 221,\n        liquidity: 78,\n        sentiment: 55,\n      },\n      {\n        name: 'US Election',\n        volume: 1800,\n        trades: 229,\n        liquidity: 92,\n        sentiment: 45,\n      },\n      {\n        name: 'Weather',\n        volume: 1500,\n        trades: 200,\n        liquidity: 70,\n        sentiment: 35,\n      },\n    ];\n    setMarketData(mockData);\n    if (mockData.length > 0) {\n      setSelectedMarket(mockData[0].name);\n    }\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('analytics.marketAnalysis')}</CardTitle>\n          <CardDescription>{t('analytics.marketAnalysisDesc')}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"volume\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-4\">\n              <TabsTrigger value=\"volume\">{t('analytics.volume')}</TabsTrigger>\n              <TabsTrigger value=\"trades\">{t('analytics.trades')}</TabsTrigger>\n              <TabsTrigger value=\"liquidity\">{t('analytics.liquidity')}</TabsTrigger>\n              <TabsTrigger value=\"sentiment\">{t('analytics.sentiment')}</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"volume\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={marketData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Bar dataKey=\"volume\" fill=\"#3b82f6\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"trades\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={marketData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Bar dataKey=\"trades\" fill=\"#10b981\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"liquidity\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={marketData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Bar dataKey=\"liquidity\" fill=\"#f59e0b\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"sentiment\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={marketData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Bar dataKey=\"sentiment\" fill=\"#ef4444\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n/**\n * 交易統計組件\n */\nfunction TradeStatistics() {\n  const { t } = useTranslation();\n  const [tradeData, setTradeData] = useState<any[]>([]);\n\n  useEffect(() => {\n    // 模擬交易數據\n    const mockData = [\n      { period: 'Mon', trades: 240, profit: 2400, loss: 1200 },\n      { period: 'Tue', trades: 221, profit: 2210, loss: 1290 },\n      { period: 'Wed', trades: 229, profit: 2290, loss: 1000 },\n      { period: 'Thu', trades: 200, profit: 2000, loss: 1181 },\n      { period: 'Fri', trades: 250, profit: 2500, loss: 1500 },\n      { period: 'Sat', trades: 210, profit: 2100, loss: 1100 },\n      { period: 'Sun', trades: 180, profit: 1800, loss: 900 },\n    ];\n    setTradeData(mockData);\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('analytics.tradeStatistics')}</CardTitle>\n          <CardDescription>{t('analytics.tradeStatisticsDesc')}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"overview\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"overview\">{t('analytics.overview')}</TabsTrigger>\n              <TabsTrigger value=\"profitloss\">{t('analytics.profitLoss')}</TabsTrigger>\n              <TabsTrigger value=\"distribution\">{t('analytics.distribution')}</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"overview\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={tradeData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"period\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  <Line type=\"monotone\" dataKey=\"trades\" stroke=\"#3b82f6\" />\n                </LineChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"profitloss\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={tradeData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"period\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  <Bar dataKey=\"profit\" fill=\"#10b981\" />\n                  <Bar dataKey=\"loss\" fill=\"#ef4444\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"distribution\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <PieChart>\n                  <Pie\n                    data={[\n                      { name: 'Profitable', value: 65 },\n                      { name: 'Losing', value: 35 },\n                    ]}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    labelLine={false}\n                    label={({ name, value }) => `${name}: ${value}%`}\n                    outerRadius={80}\n                    fill=\"#8884d8\"\n                    dataKey=\"value\"\n                  >\n                    <Cell fill=\"#10b981\" />\n                    <Cell fill=\"#ef4444\" />\n                  </Pie>\n                  <Tooltip />\n                </PieChart>\n              </ResponsiveContainer>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n/**\n * 用戶分析組件\n */\nfunction UserAnalytics() {\n  const { t } = useTranslation();\n  const [userData, setUserData] = useState<any[]>([]);\n\n  useEffect(() => {\n    // 模擬用戶數據\n    const mockData = [\n      {\n        userId: 'user1',\n        name: 'Trader A',\n        totalTrades: 150,\n        winRate: 65,\n        avgReturn: 2.5,\n        riskScore: 35,\n      },\n      {\n        userId: 'user2',\n        name: 'Trader B',\n        totalTrades: 200,\n        winRate: 58,\n        avgReturn: 1.8,\n        riskScore: 45,\n      },\n      {\n        userId: 'user3',\n        name: 'Trader C',\n        totalTrades: 100,\n        winRate: 72,\n        avgReturn: 3.2,\n        riskScore: 25,\n      },\n      {\n        userId: 'user4',\n        name: 'Trader D',\n        totalTrades: 180,\n        winRate: 55,\n        avgReturn: 1.5,\n        riskScore: 50,\n      },\n    ];\n    setUserData(mockData);\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('analytics.userAnalytics')}</CardTitle>\n          <CardDescription>{t('analytics.userAnalyticsDesc')}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium\">{t('analytics.winRate')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <BarChart data={userData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Bar dataKey=\"winRate\" fill=\"#10b981\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm font-medium\">{t('analytics.riskScore')}</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <BarChart data={userData}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Bar dataKey=\"riskScore\" fill=\"#ef4444\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </CardContent>\n            </Card>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n/**\n * 性能指標組件\n */\nfunction PerformanceMetrics() {\n  const { t } = useTranslation();\n  const [metricsData, setMetricsData] = useState<any[]>([]);\n\n  useEffect(() => {\n    // 模擬性能數據\n    const mockData = [\n      { month: 'Jan', return: 2.5, volatility: 1.2, sharpeRatio: 2.1 },\n      { month: 'Feb', return: 3.2, volatility: 1.5, sharpeRatio: 2.1 },\n      { month: 'Mar', return: 1.8, volatility: 0.9, sharpeRatio: 2.0 },\n      { month: 'Apr', return: 4.1, volatility: 2.0, sharpeRatio: 2.1 },\n      { month: 'May', return: 2.9, volatility: 1.3, sharpeRatio: 2.2 },\n      { month: 'Jun', return: 3.5, volatility: 1.6, sharpeRatio: 2.2 },\n    ];\n    setMetricsData(mockData);\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Card>\n        <CardHeader>\n          <CardTitle>{t('analytics.performanceMetrics')}</CardTitle>\n          <CardDescription>{t('analytics.performanceMetricsDesc')}</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"return\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              <TabsTrigger value=\"return\">{t('analytics.return')}</TabsTrigger>\n              <TabsTrigger value=\"volatility\">{t('analytics.volatility')}</TabsTrigger>\n              <TabsTrigger value=\"sharpe\">{t('analytics.sharpeRatio')}</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"return\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={metricsData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"month\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"return\" stroke=\"#3b82f6\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"volatility\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={metricsData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"month\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"volatility\" stroke=\"#f59e0b\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            </TabsContent>\n\n            <TabsContent value=\"sharpe\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={metricsData}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"month\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"sharpeRatio\" stroke=\"#10b981\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n/**\n * Analytics Dashboard 主頁面\n */\nexport default function AnalyticsDashboard() {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"container mx-auto py-8 px-4\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold mb-2\">{t('analytics.title')}</h1>\n        <p className=\"text-gray-600\">{t('analytics.description')}</p>\n      </div>\n\n      <Tabs defaultValue=\"market\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"market\">{t('analytics.market')}</TabsTrigger>\n          <TabsTrigger value=\"trades\">{t('analytics.trades')}</TabsTrigger>\n          <TabsTrigger value=\"users\">{t('analytics.users')}</TabsTrigger>\n          <TabsTrigger value=\"performance\">{t('analytics.performance')}</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"market\" className=\"mt-6\">\n          <MarketAnalytics />\n        </TabsContent>\n\n        <TabsContent value=\"trades\" className=\"mt-6\">\n          <TradeStatistics />\n        </TabsContent>\n\n        <TabsContent value=\"users\" className=\"mt-6\">\n          <UserAnalytics />\n        </TabsContent>\n\n        <TabsContent value=\"performance\" className=\"mt-6\">\n          <PerformanceMetrics />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n
